{"version":3,"sources":["contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/InfoTooltip.js","images/tooltip_ok.png","images/tooltip_failed.png","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/api.js","utils/auth.js","images/avatar.png","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","props","currentUser","useContext","className","to","target","src","headerLogoPath","alt","path","element","email","onClick","onLogout","Card","hasOwnLike","card","likes","some","like","_id","isOwnCard","owner","link","name","onCardClick","type","onCardLike","length","onCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","useEffect","handleEsc","evt","key","onClose","window","addEventListener","removeEventListener","classesForPopup","classList","contains","PopupWithForm","isOpen","onSubmit","title","children","isLoading","loadingText","buttonText","EditProfilePopup","useState","setName","description","setDescription","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","nameRef","linkRef","onUpdateCards","ConfirmPopup","cardToDelete","InfoTooltip","status","Login","setEmail","password","setPassword","onLogin","Register","setPasswird","onRegister","ProtectedRoute","isLoggedIn","api","options","this","_baseUrl","baseUrl","_headers","authorization","headers","fetch","method","then","_checkResponse","data","body","JSON","stringify","id","res","ok","json","Promise","reject","auth","token","localStorage","setItem","user","jwt","getItem","removeItem","App","navigate","useNavigate","loggedIn","setLoggedIn","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isTooltipPopupOpen","setIsTooltipPopupOpen","intoToolTipStatus","setIntoToolTipStatus","cardIdToBeDeleted","setCardIdToBeDeleted","selectedCard","setSelectedCard","profileAvatarPath","setCurrentUser","setCards","isLoadingSomething","setIsLoadingSomething","closeAllPopups","prevState","catch","err","console","log","all","getUserInfo","getInitialCards","userData","initialCards","finally","Provider","logout","register","exact","deleteLike","putLike","newCard","state","c","login","updateUserInfo","updateAvatar","currentUserdata","insertNewCard","deletePhoto","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5b31dbda.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo.9acae848.svg\";","import React from 'react';\nimport {Routes, Route, Link } from 'react-router-dom';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport headerLogoPath from '../images/logo.svg';\n\nfunction Header(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <header className=\"header page__header\">\n        <Link to=\"/\" className=\"header__logo\" target=\"_self\">\n          <img src={headerLogoPath} alt=\"Логотип проекта Место\" />\n        </Link>\n        <Routes>\n          <Route path=\"/\" element={\n            <div className=\"header__info\">\n              <p className=\"header__status\">{currentUser.email}</p>\n              <Link to=\"/\" onClick={props.onLogout} className=\"header__link\" target=\"_self\">\n              Выйти\n              </Link>)\n            </div>\n          } />\n          <Route path=\"/signin\" element={\n            <Link to=\"/signup\" className=\"header__status\" target=\"_self\">\n            Регистрация\n          </Link>\n          } />\n          <Route path=\"/signup\" element={\n            <Link to=\"/signin\" className=\"header__status\" target=\"_self\">\n            Войти\n          </Link>\n          } />  \n        </Routes>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const hasOwnLike = props.card.likes.some(like => like._id === currentUser._id);\n  const isOwnCard = props.card.owner._id === currentUser._id;\n  \n  function onCardClick() {\n    props.onCardClick(props.card);\n  }  \n\n  function handleLikeClick() {\n    props.onCardLike(props.card); \n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card); \n  }\n\n  return (\n    <li className=\"elements__element\">\n        <img src={props.card.link} className=\"elements__image\" alt={props.card.name} onClick={onCardClick} />\n        <div className=\"elements__title\">\n            <h3 className=\"elements__text\">{props.card.name}</h3>\n            <div className=\"elements__like-container\">\n                <button type=\"button\" className={hasOwnLike ? 'elements__like elements__like_active' : 'elements__like'} onClick={handleLikeClick}></button>  \n                <p className=\"elements__like-count\">{props.card.likes.length}</p>\n            </div>\n        </div>\n        {isOwnCard && (<button type=\"button\" className=\"elements__trash-button\" onClick={handleCardDelete}></button>)}\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n        <section className=\"profile page__container\">\n          <div className=\"profile__avatar-overlay\">\n            <img src={currentUser.avatar} alt=\"Аватарка пользователя\" className=\"profile__avatar\" />\n            <button className=\"profile__edit-avatar-button\" onClick={props.onEditAvatar}></button>\n          </div>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">\n              {currentUser.name}\n            </h1>\n            <button type=\"button\" className=\"profile__edit-button\"  onClick={props.onEditProfile}></button>\n            <p className=\"profile__title\">\n              {currentUser.about}\n            </p>\n          </div>\n          <button type=\"button\" className=\"profile__add-button\"  onClick={props.onAddPlace}></button>\n        </section>\n        <section>\n          <ul className=\"elements page__elements\">\n            {props.cards.map((card) => (\n              <Card key={card._id} \n                    card={card} \n                    onCardClick={props.onCardClick} \n                    onCardLike={props.onCardLike} \n                    onCardDelete={props.onCardDelete} \n              />\n            ))};\n          </ul>\n        </section>\n    </main>\n  );   \n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n        <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n\n  React.useEffect(() => {\n      \n    const handleEsc = (evt) => {\n      if (evt.key === \"Escape\") {\n        props.onClose();\n      }\n    };\n    window.addEventListener('keydown', handleEsc);\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n      };\n  });\n\n  const handleClick = (evt) => {\n    if (evt.target.classList.contains(\"popup\") || \n          evt.target.classList.contains(\"popup__close-button\")) {\n        props.onClose();\n    }\n  };\n\n  const classesForPopup = `popup popup_type_view ${props.card.link.length ? \"popup_opened\" : \"popup_hidden\" }`\n\n  return (\n    <div className={classesForPopup} onClick={handleClick}>\n      <div className=\"popup__container popup__container_image\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n        <img src={props.card.link} alt={props.card.name} className=\"popup__image\" />\n        <h3 className=\"popup__image-text\">{props.card.name}</h3>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  React.useEffect(() => {    \n    const handleEsc = (evt) => {\n      if (evt.key === \"Escape\") {\n        props.onClose();\n      }\n    };\n    \n    window.addEventListener('keydown', handleEsc);\n    \n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n      };\n  });\n\n  const handleClick = (evt) => {\n    if (evt.target.classList.contains(\"popup\") || \n          evt.target.classList.contains(\"popup__close-button\")) {\n        props.onClose();\n    }\n  };\n\n  const classesForPopup = `popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : \"popup_hidden\" }`;\n\n  return (\n    <div className={classesForPopup} onClick={handleClick}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n        <form className=\"form\" name={props.name} onSubmit={props.onSubmit}>\n          <h2 className=\"form__title\">{props.title}</h2>\n          {props.children}\n          <button type=\"submit\" className=\"form__save-button\">\n            {props.isLoading ? props.loadingText : props.buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }, [props.isOpen, currentUser]); \n\n    function handleChangeDesciption(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n          name: name,\n          about: description,\n        });\n    } \n\n    return (\n        <PopupWithForm \n            name=\"edit-profile\"\n            title=\"Редактировать профайл\"\n            buttonText=\"Сохранить\" \n            isOpen={props.isOpen} \n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            loadingText=\"Загружается...\"\n        >\n            <input type=\"text\" className=\"form__field\" placeholder=\"Имя\" name=\"edit-profile-name\" required minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName} />\n            <span className=\"form__error-message edit-profile-name-error\"></span>\n            <input type=\"text\" className=\"form__field\" placeholder=\"О себе\" name=\"edit-profile-title\" required minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleChangeDesciption} />\n            <span className=\"form__error-message edit-profile-title-error\"></span>\n        </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n\n    const avatarRef = React.useRef(); \n\n    React.useEffect(() => {\n        avatarRef.current.value = \"\";\n    }, [props.isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar({avatar: avatarRef.current.value});\n    }\n\n    return (\n        <PopupWithForm \n            name=\"edit-avatar\"\n            title=\"Обновить аватар\"\n            buttonText=\"Сохранить\" \n            isOpen={props.isOpen} \n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            loadingText=\"Загружается...\"\n        >\n            <input ref={avatarRef} type=\"url\" className=\"form__field\" placeholder=\"Ссылка на картинку\" name=\"avatar-link\" required />\n            <span className=\"form__error-message avatar-link-error\"></span>\n        </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n\n    const nameRef = React.useRef(); \n    const linkRef = React.useRef(); \n\n    React.useEffect(() => {\n        nameRef.current.value = \"\";\n        linkRef.current.value = \"\";\n    }, [props.isOpen]);\n    \n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateCards({name: nameRef.current.value,\n            link: linkRef.current.value});\n    } \n\n    return (\n        <PopupWithForm \n            name=\"add-place\" \n            title=\"Новое место\" \n            buttonText=\"Создать\" \n            isOpen={props.isOpen} \n            onClose={props.onClose} \n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            loadingText=\"Загружается...\"\n        >\n            <input ref={nameRef} type=\"text\" className=\"form__field\" placeholder=\"Название\" name=\"add-place-name\" required minLength=\"2\" maxLength=\"30\" />\n            <span className=\"form__error-message add-place-name-error\"></span>\n            <input ref={linkRef} type=\"url\" className=\"form__field\" placeholder=\"Ссылка на картинку\" name=\"add-place-link\" required />\n            <span className=\"form__error-message add-place-link-error\"></span>\n        </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup(props) {\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onSubmit(props.cardToDelete);\n    }\n\n    return (\n        <PopupWithForm \n            name=\"with-confirm\" \n            title=\"Вы уверены?\" \n            buttonText=\"Да\" \n            isOpen={props.isOpen} \n            onClose={props.onClose} \n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            loadingText=\"Удаляется...\"\n        />\n  );\n}\n\nexport default ConfirmPopup;","import tooltip_ok from '../images/tooltip_ok.png';\nimport tooltip_failed from '../images/tooltip_failed.png';\n\nfunction InfoTooltip(props) {\n\n    const ok_message = \"Вы успешно зарегистрировались!\";\n    const failed_message = \"Что-то пошло не так! Попробуйте ещё раз.\";\n\n    const classesForPopup = `popup popup_type_tooltip ${props.isOpen ? \"popup_opened\" : \"popup_hidden\" }`;\n    \n    return (\n      <div className={classesForPopup}>\n        <div className=\"popup__container\">\n          <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n          <img className=\"popup__tooltip-image\" alt=\"Результат запроса\" src={props.status ? tooltip_ok : tooltip_failed} />\n          <p className=\"popup__tooltip-text\">{props.status ? ok_message : failed_message}</p>\n        </div>\n      </div>\n    );\n  }\n  \n  export default InfoTooltip;\n  ","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\n\nfunction Login(props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onLogin({\n      email: email,\n      password: password,\n    });\n  }\n\n  return (\n    <div className=\"auth\">\n      <div className=\"auth__container\">\n        <form className=\"form\" name={props.name} onSubmit={handleSubmit}>\n          <h2 className=\"form__title form__title_light auth__title\">Вход</h2>\n          <input type=\"email\" className=\"form__field form__field_light\" placeholder=\"Email\" name=\"login-email\" required minLength=\"2\" maxLength=\"40\" value={email || ''} onChange={handleChangeEmail} />\n          <span className=\"form__error-message login-email-error\"></span>\n          <input type=\"password\" className=\"form__field form__field_light\" placeholder=\"Пароль\" name=\"login-password\" required minLength=\"2\" maxLength=\"200\" value={password || ''} onChange={handleChangePassword} />\n          <span className=\"form__error-message login-password-error\"></span>\n          <button type=\"submit\" className=\"form__save-button form__save-button_light auth__submit-button\">\n            Войти\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport {Link } from 'react-router-dom';\n\nfunction Register(props) {\n\n    const [email, setEmail] = React.useState('');\n    const [password, setPasswird] = React.useState('');\n    \n    function handleChangePassword(e) {\n      setPasswird(e.target.value);\n    }\n\n    function handleChangeEmail(e) {\n      setEmail(e.target.value);\n    }\n\n    function handleSubmit(e) {\n      e.preventDefault();\n      props.onRegister({\n        email: email,\n        password: password,\n      });\n    } \n\n\n    return (\n      <div className=\"auth\">\n      <div className=\"auth__container\">\n        <form className=\"form\" name={props.name} onSubmit={handleSubmit}>\n          <h2 className=\"form__title form__title_light auth__title\">Регистрация</h2>\n          <input type=\"email\" className=\"form__field form__field_light\" placeholder=\"Email\" name=\"login-email\" required minLength=\"2\" maxLength=\"40\" value={email || ''} onChange={handleChangeEmail} />\n          <span className=\"form__error-message login-email-error\"></span>\n          <input type=\"password\" className=\"form__field form__field_light\" placeholder=\"Пароль\" name=\"login-password\" required minLength=\"2\" maxLength=\"200\" value={password || ''} onChange={handleChangePassword} />\n          <span className=\"form__error-message login-password-error\"></span>\n          <button type=\"submit\" className=\"form__save-button form__save-button_light auth__submit-button\">\n            Зарегистрироваться\n          </button>\n          <Link className=\"auth__subtitle\" to=\"/signin\" target=\"_self\">Уже зарегистрированы? Войти</Link>\n        </form>\n      </div>\n    </div>\n    );\n  }\n  \n  export default Register;\n  ","import React from 'react';\nimport {Navigate } from \"react-router-dom\";\n\nfunction ProtectedRoute(props) {\n    return props.isLoggedIn ? props.children : <Navigate to=\"./signin\" />;\n  }\n\nexport default ProtectedRoute;\n  ","class Api {\n\n    constructor(options) {\n      this._baseUrl = options.baseUrl;\n      this._headers = {\n        authorization: options.headers.authorization,\n        'Content-Type': options.headers['Content-Type']\n      };\n    }\n\n    getInitialCards() {\n      return fetch(`${this._baseUrl}cards`, {\n        method: 'GET',\n        headers: this._headers\n      })\n      .then(this._checkResponse);\n    }\n  \n    getUserInfo() {\n      return fetch(`${this._baseUrl}users/me`, {\n        method: 'GET',\n        headers: this._headers\n      })\n      .then(this._checkResponse); \n    }\n  \n    updateUserInfo(data) {\n      return fetch(`${this._baseUrl}users/me`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n        })\n      })\n      .then(this._checkResponse);\n    }\n  \n    insertNewCard(data) {\n      return fetch(`${this._baseUrl}cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          link: data.link\n        }) \n      })\n      .then(this._checkResponse);\n    }\n  \n    putLike(id) {\n      return fetch(`${this._baseUrl}cards/likes/${id}`, {\n        method: 'PUT',\n        headers: this._headers\n      })\n      .then(this._checkResponse);\n    }\n  \n    deleteLike(id) {\n      return fetch(`${this._baseUrl}cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: this._headers\n        })\n      .then(this._checkResponse);\n    }\n  \n    updateAvatar(data) {\n      return fetch(`${this._baseUrl}users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          avatar: data.avatar\n        })\n      })\n      .then(this._checkResponse);\n    }\n  \n    deletePhoto(id) {\n      return fetch(`${this._baseUrl}cards/${id}`, {\n        method: 'DELETE',\n        headers: this._headers,\n      })\n      .then(this._checkResponse);\n    }\n  \n    _checkResponse(res) {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Error: ${res.status}`);\n    }\n  }\n  \n  const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n    headers: {\n      authorization: '05e586ce-c0c8-4f14-bbd3-b259a470e2b4',\n      'Content-Type': 'application/json'\n    }\n  });\n  \n  export default api;","class AuthApi {\n\n    constructor(options) {\n      this._baseUrl = options.baseUrl;\n      this._headers = {\n        'Content-Type': options.headers['Content-Type']\n      };\n    }\n\n    login(data) {\n        return fetch(`${this._baseUrl}/signin`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                email: data.email,\n                password: data.password\n            })\n          })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            } else if (res.status === 400) {\n                return Promise.reject(`не передано одно из полей`);\n            } else if (res.status === 401) {\n                return Promise.reject(`пользователь с email не найден`);\n            } \n            return Promise.reject(`Error: ${res.status}`);\n        })\n        .then((data) => {\n            if (data.token) {\n                localStorage.setItem(\"jwt\", data.token);\n                return this.user();\n            }\n        });\n    }\n  \n    register(data) {\n        return fetch(`${this._baseUrl}/signup`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n               email: data.email,\n               password: data.password\n            }) \n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            } else if (res.status === 400) {\n                return Promise.reject(`некорректно заполнено одно из полей`);\n            } \n            return Promise.reject(`Error: ${res.status}`);\n        });\n    }\n\n    user() {\n        const jwt = localStorage.getItem(\"jwt\");\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization' : `Bearer ${jwt}`,\n            }\n          })\n          .then((res) => {\n              if (res.ok) {\n                  return res.json();\n              } else if (res.status === 400) {\n                  return Promise.reject(`Токен не передан или передан не в том формате`);\n              } else if (res.status === 401) {\n                  return Promise.reject(`Переданный токен некорректен`);\n              } \n              return Promise.reject(`Error: ${res.status}`);\n          });\n    }\n\n    logout() {\n        localStorage.removeItem(\"jwt\");\n    }\n}\n\nconst auth = new AuthApi({\n    baseUrl: 'https://auth.nomoreparties.co',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default auth;","export default __webpack_public_path__ + \"static/media/avatar.9d6adefb.png\";","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport InfoTooltip from './InfoTooltip';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport api from '../utils/api';\nimport auth from '../utils/auth';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport profileAvatarPath from '../images/avatar.png';\nimport { Route, Routes, Navigate, useNavigate } from 'react-router-dom';\n\nfunction App() {\n\n  const navigate = useNavigate();\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [isTooltipPopupOpen, setIsTooltipPopupOpen] = React.useState(false);\n  const [intoToolTipStatus, setIntoToolTipStatus] = React.useState(false);\n  const [cardIdToBeDeleted, setCardIdToBeDeleted] = React.useState({});\n  const [selectedCard, setSelectedCard] = React.useState({name: '', link: ''});\n  const [currentUser, setCurrentUser] = React.useState({\n                                                    avatar: profileAvatarPath, \n                                                    email: '', \n                                                    _id: ''});\n  const [cards, setCards] = React.useState([]);\n  const [isLoadingSomething, setIsLoadingSomething] = React.useState(false);\n\n  React.useEffect(()=>{\n    setIsLoadingSomething(true);\n    \n    auth.user()\n    .then((res)=> {\n      setCurrentUser(prevState => ({\n        ...prevState,\n        email: res.data.email\n      }));\n      setLoggedIn(true);\n      redirectToRoot();\n    })\n    .catch((err) => {\n      console.log(err);\n      setLoggedIn(false);\n    })\n\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([userData, initialCards]) => {\n      setCurrentUser(prevState => ({\n        ...prevState,\n        avatar: userData.avatar, \n        name: userData.name,\n        about: userData.about,\n        _id: userData._id\n      }));\n      setCards(initialCards);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false)\n    });\n  }, []);\n\n  function redirectToRoot() {\n    navigate(\"/\");\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  function handleConfirmation(card) {\n    setCardIdToBeDeleted({_id: card._id});\n    setIsConfirmPopupOpen(true);\n  };\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setSelectedCard({name: '', link: ''});\n    setCardIdToBeDeleted({});\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function handleUpdateUser(user) {\n    setIsLoadingSomething(true);\n    api.updateUserInfo(user)\n    .then(\n      (data) => {\n        setCurrentUser(prevState => ({\n          ...prevState,\n          name: data.name,\n          about: data.about\n        }));\n        closeAllPopups();\n      })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false)\n    });\n  }\n\n  function handleUpdateAvatar(user) {\n    setIsLoadingSomething(true);\n    api.updateAvatar(user)\n    .then(\n      (currentUserdata) => {\n        setCurrentUser(prevState => ({\n          ...prevState,\n          avatar: currentUserdata.avatar\n        }));\n        closeAllPopups();\n      })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false)\n    });\n  }\n\n  function handleCardLike(card) {\n    setIsLoadingSomething(true);\n    const hasOwnLike = card.likes.some(like => like._id === currentUser._id);\n    (hasOwnLike ? api.deleteLike(card._id) : api.putLike(card._id))\n    .then(\n      (newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false)\n    });\n  } \n  \n  function handleCardDelete(card) {\n    setIsLoadingSomething(true);\n    api.deletePhoto(card._id)\n    .then(\n      () => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false);\n    });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsLoadingSomething(true);\n    api.insertNewCard(card)\n    .then(\n      (newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoadingSomething(false)\n    });\n  }\n\n  function handleRegisterClick(data) {\n    \n    setIsLoadingSomething(true);\n    auth.register(data)\n      .then((data) => {\n        setIntoToolTipStatus(true);\n        setIsTooltipPopupOpen(true);\n      })\n      .catch((err) => {\n        console.log(4, data);\n        setIntoToolTipStatus(false);\n        setIsTooltipPopupOpen(true);\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingSomething(false)\n      });\n  }\n\n  function closeIntoTooltip() {\n    if (intoToolTipStatus) {\n      setIsTooltipPopupOpen(false);\n      navigate('/signin');\n    } else {\n      setIsTooltipPopupOpen(false);\n    }\n  }\n\n  function handleLoginClick(data) {\n    setIsLoadingSomething(true);\n    auth.login(data)\n      .then((res) => {\n        setLoggedIn(true);\n        setCurrentUser(prevState => ({\n          ...prevState,\n          email: res.data.email, \n          _id: res.data._id\n        }));\n        navigate('/');\n      })\n      .catch((err) => {\n        setIntoToolTipStatus(false);\n        setIsTooltipPopupOpen(true);\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoadingSomething(false)\n      });\n  }\n\n  function handleLogout() {\n    auth.logout();\n    setLoggedIn(false);\n    navigate('/signin');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>    \n      <Header onLogout={handleLogout} />\n      <Routes>\n        <Route path=\"/signup\" element={\n          <Register onRegister={handleRegisterClick} />\n          } />\n        <Route exact path=\"/\" element={\n          <ProtectedRoute isLoggedIn={loggedIn}>\n            <Main \n              onEditProfile={handleEditProfileClick}  \n              onEditAvatar={handleEditAvatarClick} \n              onAddPlace={handleAddPlaceClick} \n              onCardClick={handleCardClick} \n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleConfirmation}\n            />\n            <Footer />\n          </ProtectedRoute>\n        } />\n        <Route path=\"/signin\" element={<Login \n              onLogin={handleLoginClick}\n        />} />\n        <Route path=\"*\" element={<Navigate to=\"/signin\" />} />\n      </Routes>\n      <EditProfilePopup \n        isOpen={isEditProfilePopupOpen} \n        onClose={closeAllPopups} \n        onUpdateUser={handleUpdateUser}\n        isLoading={isLoadingSomething}\n      />\n      <EditAvatarPopup \n        isOpen={isEditAvatarPopupOpen} \n        onClose={closeAllPopups} \n        onUpdateAvatar={handleUpdateAvatar}\n        isLoading={isLoadingSomething}\n      />\n      <AddPlacePopup \n        isOpen={isAddPlacePopupOpen} \n        onClose={closeAllPopups} \n        onUpdateCards={handleAddPlaceSubmit}\n        isLoading={isLoadingSomething}\n      />\n      <ConfirmPopup \n        isOpen={isConfirmPopupOpen} \n        onClose={closeAllPopups} \n        onSubmit={handleCardDelete}\n        isLoading={isLoadingSomething}\n        cardToDelete={cardIdToBeDeleted}\n      />\n      <InfoTooltip \n        status={intoToolTipStatus}\n        onClose={closeIntoTooltip} \n        isOpen={isTooltipPopupOpen} \n      />\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} \n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './pages/index.css';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter >\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}